<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calendario</title>
</head>
<body>
    <script type="text/javascript">
        function mess(valor,valortama,forma){
            var nume=0;
            if(valor!=null && valortama!=null && forma!=null){
                var tamaño=valortama;
                var mes=valor;
                var formato=forma;
                nume=1;
            }else{
                var tamaño=prompt('Introduce el tamaño de la letra','');
            }
            var meses=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];
            var dias=[31,28,31,30,31,30,31,31,30,31,30,31];
            var semana=["Lunes","Martes","Miercoles","Jueves","Viernes","Sabado","Domingo"];
            var primerdia=[2,5,5,1,3,6,1,4,0,2,5,0];
            if(nume==1){
                var node = document.getElementById('borrar');
                node.parentNode.removeChild(node);
            }
            if(/^([0-9])*$/.test(tamaño)){
                if(nume!=1){
                    var mes=prompt('Indroduce el numero del mes','');
                }
                if(mes>=1 && mes<=12){
                    if(nume!=1){
                        var formato=prompt('Pon el formato del los dias de la semana:\n1.Lunes\n2.Lun\n3.L ','');
                    }
                    if(formato>=1 && formato<4){
                        atras= mes-1;
                        adelante= atras+2;
                        if(atras<1){
                            document.write("<table id ='borrar' style='font-size:"+tamaño+"px;text-align:center;'>\
                                        <tr><td colspan='7'>"+meses[mes-1]+"<button onclick='mess("+adelante+","+tamaño+","+formato+")'>>>\</button></td></tr>");
                        }else if(adelante>12){
                            document.write("<table id ='borrar' style='font-size:"+tamaño+"px;text-align:center;'>\
                                        <tr><td colspan='7'><button onclick='mess("+atras+","+tamaño+","+formato+")'><<</button>"+meses[mes-1]+"</td></tr>");
                        }else{
                            document.write("<table id ='borrar' style='font-size:"+tamaño+"px;text-align:center;'>\
                                        <tr><td colspan='7'><button onclick='mess("+atras+","+tamaño+","+formato+")'><<</button>"+meses[mes-1]+"<button onclick='mess("+adelante+","+tamaño+","+formato+")'>>>\</button></td></tr>");
                        }

                        if(formato==3){
                            document.write("<tr><td>"+semana[0].substring(0,1)+"</td>\
                                        <td>"+semana[1].substring(0,1)+"</td>\
                                        <td>X</td>\
                                        <td>"+semana[3].substring(0,1)+"</td>\
                                        <td>"+semana[4].substring(0,1)+"</td>\
                                        <td>"+semana[5].substring(0,1)+"</td>\
                                        <td>"+semana[6].substring(0,1)+"</td></tr>");
                        }else if(formato==2){
                            document.write("<tr><td>"+semana[0].substring(0,3)+"</td>\
                                        <td>"+semana[1].substring(0,3)+"</td>\
                                        <td>"+semana[2].substring(0,3)+"</td>\
                                        <td>"+semana[3].substring(0,3)+"</td>\
                                        <td>"+semana[4].substring(0,3)+"</td>\
                                        <td>"+semana[5].substring(0,3)+"</td>\
                                        <td>"+semana[6].substring(0,3)+"</td></tr>");
                        }else{
                            document.write("<tr><td>"+semana[0]+"</td>\
                                        <td>"+semana[1]+"</td>\
                                        <td>"+semana[2]+"</td>\
                                        <td>"+semana[3]+"</td>\
                                        <td>"+semana[4]+"</td>\
                                        <td>"+semana[5]+"</td>\
                                        <td>"+semana[6]+"</td></tr>");
                        }
                        document.write("<tr>");
                        contador=primerdia[mes-1];
                        for(j=0;j<contador; j++){
                            document.write("<td></td>");
                        }
                        for(i=1;i<=dias[mes-1]; i++){

                            if((contador+i)%7==0){
                                document.write("<td>"+i+"</td></tr><tr>");
                            }else{
                                document.write("<td>"+i+"</td>");
                            }
                        }
                        document.write("</table>");
                    }else{
                        alert('El formato elegido no es correcto.');
                    }
                }else{
                  alert('No es un mes correcto.');
                }
            }else{
                alert('No es un numero el tamaño.');
            }
        }
        mess();
    </script>
</body>
</html>
